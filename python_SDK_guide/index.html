
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>Overview - Python Flow SDK</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Python Flow SDK" class="md-header__button md-logo" aria-label="Python Flow SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Flow SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Python Flow SDK" class="md-nav__button md-logo" aria-label="Python Flow SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Python Flow SDK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing" class="md-nav__link">
    Installing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing-the-library" class="md-nav__link">
    Importing the Library
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-examples" class="md-nav__link">
    Running examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querying-the-flow-network" class="md-nav__link">
    Querying the Flow Network
  </a>
  
    <nav class="md-nav" aria-label="Querying the Flow Network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-blocks" class="md-nav__link">
    Get Blocks
  </a>
  
    <nav class="md-nav" aria-label="Get Blocks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-account" class="md-nav__link">
    Get Account
  </a>
  
    <nav class="md-nav" aria-label="Get Account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-transactions" class="md-nav__link">
    Get Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-events" class="md-nav__link">
    Get Events
  </a>
  
    <nav class="md-nav" aria-label="Get Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_2" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-collections" class="md-nav__link">
    Get Collections
  </a>
  
    <nav class="md-nav" aria-label="Get Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_3" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute-scripts" class="md-nav__link">
    Execute Scripts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mutate-flow-network" class="md-nav__link">
    Mutate Flow Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    Transactions
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-transactions" class="md-nav__link">
    Build Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-transactions" class="md-nav__link">
    Sign Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-party-single-signature" class="md-nav__link">
    Single party, single signature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-party-multiple-signatures" class="md-nav__link">
    Single party, multiple signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties" class="md-nav__link">
    Multiple parties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties-two-authorizers" class="md-nav__link">
    Multiple parties, two authorizers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties-multiple-signatures" class="md-nav__link">
    Multiple parties, multiple signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signing-user-messages" class="md-nav__link">
    Signing user messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-transactions" class="md-nav__link">
    Send Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-accounts" class="md-nav__link">
    Create Accounts
  </a>
  
    <nav class="md-nav" aria-label="Create Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#public-key" class="md-nav__link">
    Public Key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contracts" class="md-nav__link">
    Contracts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-contract-to-an-account" class="md-nav__link">
    Adding a contract to an account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-a-contract-of-an-account" class="md-nav__link">
    Updating a contract of an account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-a-contract-from-an-account" class="md-nav__link">
    Removing a contract from an account
  </a>
  
    <nav class="md-nav" aria-label="Removing a contract from an account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-keys" class="md-nav__link">
    Generate Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Running Examples
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        API Docs
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API Docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api_docs/client/" class="md-nav__link">
        Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api_docs/signer/" class="md-nav__link">
        Signer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api_docs/keys/" class="md-nav__link">
        Keys
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing" class="md-nav__link">
    Installing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing-the-library" class="md-nav__link">
    Importing the Library
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-examples" class="md-nav__link">
    Running examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querying-the-flow-network" class="md-nav__link">
    Querying the Flow Network
  </a>
  
    <nav class="md-nav" aria-label="Querying the Flow Network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-blocks" class="md-nav__link">
    Get Blocks
  </a>
  
    <nav class="md-nav" aria-label="Get Blocks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-account" class="md-nav__link">
    Get Account
  </a>
  
    <nav class="md-nav" aria-label="Get Account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-transactions" class="md-nav__link">
    Get Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-events" class="md-nav__link">
    Get Events
  </a>
  
    <nav class="md-nav" aria-label="Get Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_2" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-collections" class="md-nav__link">
    Get Collections
  </a>
  
    <nav class="md-nav" aria-label="Get Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples_3" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute-scripts" class="md-nav__link">
    Execute Scripts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mutate-flow-network" class="md-nav__link">
    Mutate Flow Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    Transactions
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-transactions" class="md-nav__link">
    Build Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-transactions" class="md-nav__link">
    Sign Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-party-single-signature" class="md-nav__link">
    Single party, single signature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-party-multiple-signatures" class="md-nav__link">
    Single party, multiple signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties" class="md-nav__link">
    Multiple parties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties-two-authorizers" class="md-nav__link">
    Multiple parties, two authorizers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parties-multiple-signatures" class="md-nav__link">
    Multiple parties, multiple signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signing-user-messages" class="md-nav__link">
    Signing user messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-transactions" class="md-nav__link">
    Send Transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-accounts" class="md-nav__link">
    Create Accounts
  </a>
  
    <nav class="md-nav" aria-label="Create Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#public-key" class="md-nav__link">
    Public Key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contracts" class="md-nav__link">
    Contracts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-contract-to-an-account" class="md-nav__link">
    Adding a contract to an account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-a-contract-of-an-account" class="md-nav__link">
    Updating a contract of an account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-a-contract-from-an-account" class="md-nav__link">
    Removing a contract from an account
  </a>
  
    <nav class="md-nav" aria-label="Removing a contract from an account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-keys" class="md-nav__link">
    Generate Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Overview</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This reference documents all the methods available in the SDK, and explains in detail how these methods work. SDKs are
open source, and you can use them according to the licence.</p>
<p>The library client specifications can be found here:</p>
<p><a href="../api_docs/client/"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="installing">Installing<a class="headerlink" href="#installing" title="Permanent link">&para;</a></h3>
<pre><code class="language-sh">pip install flow-py-sdk
</code></pre>
<p>or</p>
<pre><code class="language-sh">poetry add flow-py-sdk
</code></pre>
<h3 id="importing-the-library">Importing the Library<a class="headerlink" href="#importing-the-library" title="Permanent link">&para;</a></h3>
<pre><code class="language-sh">import flow_py_sdk
</code></pre>
<h2 id="running-examples">Running examples<a class="headerlink" href="#running-examples" title="Permanent link">&para;</a></h2>
<p>See <a href="../examples/">Running examples</a></p>
<h2 id="connect">Connect<a class="headerlink" href="#connect" title="Permanent link">&para;</a></h2>
<p><a href="../api_docs/client/#create-a-flow-client"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>The library uses gRPC to communicate with the access nodes and it must be configured with correct access node API URL.</p>
<p>📖 <strong>Access API URLs</strong> can be found <a href="https://docs.onflow.org/access-api/#flow-access-node-endpoints">here</a>. An error
will be returned if the host is unreachable. The Access Nodes APIs hosted by DapperLabs are accessible at:</p>
<ul>
<li>Testnet <code>access.devnet.nodes.onflow.org:9000</code></li>
<li>Mainnet <code>access.mainnet.nodes.onflow.org:9000</code></li>
<li>Local Emulator <code>127.0.0.1:3569</code></li>
</ul>
<p>Example:</p>
<pre><code class="language-py">async with flow_client(
        host=&quot;127.0.0.1&quot;, port=&quot;3569&quot;
) as flow_client:
# do something with `flow_client`
</code></pre>
<h2 id="querying-the-flow-network">Querying the Flow Network<a class="headerlink" href="#querying-the-flow-network" title="Permanent link">&para;</a></h2>
<p>After you have established a connection with an access node, you can query the Flow network to retrieve data about
blocks, accounts, events and transactions. We will explore how to retrieve each of these entities in the sections below.</p>
<h3 id="get-blocks">Get Blocks<a class="headerlink" href="#get-blocks" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#query-blocks"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Query the network for block by id, height or get the latest block.</p>
<p>📖 <strong>Block ID</strong> is SHA3-256 hash of the entire block payload. This hash is stored as an ID field on any block response
object (ie. response from <code>GetLatestBlock</code>).</p>
<p>📖 <strong>Block height</strong> expresses the height of the block on the chain. The latest block height increases by one for every
valid block produced.</p>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<p>This example depicts ways to get the latest block as well as any other block by height or ID:</p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/block_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<p>You can use the <code>GetLatestBlock</code> method to fetch the latest sealed or unsealed block:</p>
<pre><code class="language-python">async with flow_client(
        host=ctx.access_node_host, port=ctx.access_node_port
) as client:
    block = await client.get_latest_block(
        is_sealed=False
        # or is_sealed = True can be used for retrieving sealed block
    )
    print(&quot;Block ID: {}&quot;.format(block.id.hex()))
    print(&quot;Block height: {}&quot;.format(block.height))
    print(&quot;Block timestamp: [{}]&quot;.format(block.timestamp))
</code></pre>
<p>You can use the <code>get_block_by_i_d</code> method to fetch the specific block with desired ID:</p>
<pre><code class="language-python">async with flow_client(
        host=ctx.access_node_host, port=ctx.access_node_port
) as client:
    latest_block = await client.get_latest_block()
    block = await client.get_block_by_height(
        id=latest_block.id
    )
    print(&quot;Block ID: {}&quot;.format(block.id.hex()))
    print(&quot;Block height: {}&quot;.format(block.height))
    print(&quot;Block timestamp: [{}]&quot;.format(block.timestamp))
</code></pre>
<p>Also <code>get_block_by_height</code> method can be used to fetch the specific block with desired height:</p>
<pre><code class="language-python">async with flow_client(
        host=ctx.access_node_host, port=ctx.access_node_port
) as client:
    latest_block = await client.get_latest_block()
    block = await client.get_block_by_height(
        height=latest_block.height
    )
    print(&quot;Block ID: {}&quot;.format(block.id.hex()))
    print(&quot;Block height: {}&quot;.format(block.height))
    print(&quot;Block timestamp: [{}]&quot;.format(block.timestamp))
</code></pre>
<p>Result output:</p>
<pre><code class="language-bash">Block ID: 8d08c88873d079d8f2d929853a647a8703597898532f3b7f79b0e3b0320d0bf7
Block height: 146
Block timestamp: [2021-10-28 14:12:41.172587+00:00]

Block ID: 8d08c88873d079d8f2d929853a647a8703597898532f3b7f79b0e3b0320d0bf7
Block height: 146
Block timestamp: [2021-10-28 14:12:41.172587+00:00]

Block ID: 8d08c88873d079d8f2d929853a647a8703597898532f3b7f79b0e3b0320d0bf7
Block height: 146
Block timestamp: [2021-10-28 14:12:41.172587+00:00]
</code></pre>
<h3 id="get-account">Get Account<a class="headerlink" href="#get-account" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#accounts"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Retrieve any account from Flow network's latest block or from a specified block height.</p>
<p>📖 <strong>Account address</strong> is a unique account identifier. Be mindful about the <code>0x</code> prefix, you should use the prefix as a
default representation but be careful and safely handle user inputs without the prefix.</p>
<p>An account includes the following data:</p>
<ul>
<li>Address: the account address.</li>
<li>Balance: balance of the account.</li>
<li>Contracts: list of contracts deployed to the account.</li>
<li>Keys: list of keys associated with the account.</li>
</ul>
<h4 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">&para;</a></h4>
<p>Example depicts ways to get an account at the latest block and at a specific block height:</p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/account_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<p>Get an account using its address.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account = await client.get_account(
            address=ctx.service_account_address.bytes
        )
        print(&quot;Account Address: {}&quot;.format(account.address.hex()))
        print(&quot;Account Balance: {}&quot;.format(account.balance))
        print(&quot;Account Contracts: {}&quot;.format(len(account.contracts)))
        print(&quot;Account Keys: {}&quot;.format(len(account.keys)))
</code></pre>
<p>Get an account by address at the given block height.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()
        _, _, _ = await random_account(client=client, ctx=ctx)
        account = await client.get_account_at_block_height(
            address=ctx.service_account_address.bytes,
            block_height=latest_block.height,
        )
        print(&quot;Account Address: {}&quot;.format(account.address.hex()))
        print(&quot;Account Balance: {}&quot;.format(account.balance))
        print(&quot;Account Contracts: {}&quot;.format(len(account.contracts)))
        print(&quot;Account Keys: {}&quot;.format(len(account.keys)))
</code></pre>
<p>Get an account by address at the latest sealed block.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        _, _, _ = await random_account(client=client, ctx=ctx)
        account = await client.get_account_at_latest_block(
            address=ctx.service_account_address.bytes
        )
        print(&quot;Account Address: {}&quot;.format(account.address.hex()))
        print(&quot;Account Balance: {}&quot;.format(account.balance))
        print(&quot;Account Contracts: {}&quot;.format(len(account.contracts)))
        print(&quot;Account Keys: {}&quot;.format(len(account.keys)))
</code></pre>
<p>Result output:</p>
<pre><code class="language-bash">Account Address: f8d6e0586b0a20c7
Account Balance: 999999999999700000
Account Balance: 2
Account Keys: 1

Account Address: f8d6e0586b0a20c7
Account Balance: 999999999999600000
Account Balance: 2
Account Keys: 1
</code></pre>
<h3 id="get-transactions">Get Transactions<a class="headerlink" href="#get-transactions" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#accounts"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Retrieve transactions from the network by providing a transaction ID. After a transaction has been submitted, you can
also get the transaction result to check the status.</p>
<p>📖 <strong>Transaction ID</strong> is a hash of the encoded transaction payload and can be calculated before submitting the
transaction to the network.</p>
<p>⚠️ The transaction ID provided must be from the current spork.</p>
<p>📖 <strong>Transaction status</strong> represents the state of transaction in the blockchain. Status can change until is finalized.</p>
<table>
<thead>
<tr>
<th>Status</th>
<th>Final</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UNKNOWN</td>
<td>❌</td>
<td>The transaction has not yet been seen by the network</td>
</tr>
<tr>
<td>PENDING</td>
<td>❌</td>
<td>The transaction has not yet been included in a block</td>
</tr>
<tr>
<td>FINALIZED</td>
<td>❌</td>
<td>The transaction has been included in a block</td>
</tr>
<tr>
<td>EXECUTED</td>
<td>❌</td>
<td>The transaction has been executed but the result has not yet been sealed</td>
</tr>
<tr>
<td>SEALED</td>
<td>✅</td>
<td>The transaction has been executed and the result is sealed in a block</td>
</tr>
<tr>
<td>EXPIRED</td>
<td>✅</td>
<td>The transaction reference block is outdated before being executed</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, _, new_signer = await random_account(
            client=client, ctx=ctx
        )
        latest_block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(
            address=account_address.bytes
        )

        transaction = Tx(
            code=&quot;&quot;&quot;transaction(){prepare(){log(&quot;OK&quot;)}}&quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account_address,
            proposal_key=ProposalKey(
                key_address=account_address,
                key_id=0,
                key_sequence_number=proposer.keys[0].sequence_number,
            ),
        ).with_envelope_signature(
            account_address,
            0,
            new_signer,
        )

        response = await client.send_transaction(transaction=transaction.to_signed_grpc())

        transaction_id = response.id

        transaction = await client.get_transaction(id=transaction_id)
        print(&quot;transaction ID: {}&quot;.format(transaction_id.hex()))
        print(&quot;transaction payer: {}&quot;.format(transaction.payer.hex()))
        print(
            &quot;transaction proposer: {}&quot;.format(
                transaction.proposal_key.address.hex()
            )
        )
        print(&quot;transaction script: {}&quot;.format(transaction.script.decode(&quot;utf-8&quot;)))

</code></pre>
<p>Example output:</p>
<pre><code class="language-bash">transaction ID: 8f8adbfbe85cee39d3ee180a8c148b8ebc7bca8feae9f64a4c6f0c65e9db6663
transaction payer: 01cf0e2f2f715450
transaction proposer: 01cf0e2f2f715450
transaction script: transaction(){prepare(){log(&quot;OK&quot;)}}
</code></pre>
<h3 id="get-events">Get Events<a class="headerlink" href="#get-events" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#events"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Retrieve events by a given type in a specified block height range or through a list of block IDs.</p>
<p>📖 <strong>Event type</strong> is a string that follow a standard format:</p>
<pre><code>A.{contract address}.{contract name}.{event name}
</code></pre>
<p>Please read more about <a href="https://docs.onflow.org/core-contracts/flow-token/">events in the documentation</a>. The exception
to this standard are core events, and you should read more about them
in <a href="https://docs.onflow.org/cadence/language/core-events/">this document</a>.</p>
<p>📖 <strong>Block height range</strong> expresses the height of the start and end block in the chain.</p>
<h4 id="examples_2">Examples<a class="headerlink" href="#examples_2" title="Permanent link">&para;</a></h4>
<p>Example depicts ways to get events within block range or by block IDs:</p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/events_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<p>This example shows how to retrieve events by name in the block height range Class. In this example, an account is
created and then we try to get "AccountCreated" event.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        _, _, _ = await random_account(client=client, ctx=ctx)
        latest_block = await client.get_latest_block()
        await client.get_events_for_height_range(
            type=&quot;flow.AccountCreated&quot;,
            start_height=latest_block.height - 1,
            end_height=latest_block.height,
        )
</code></pre>
<p>This example shows how to retrieve events by name in the block ids Function In this example, an account is created and
then we try to get "AccountCreated" event.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        _, _, _ = await random_account(client=client, ctx=ctx)
        latest_block = await client.get_latest_block()
        await client.get_events_for_block_i_ds(
            type=&quot;flow.AccountCreated&quot;, block_ids=[latest_block.id]
        )
        print(&quot;event type: {}&quot;.format(events[0].events[0].type))
        print(&quot;event value: {}&quot;.format(events[0].events[0].value))
        print(&quot;event value: {}&quot;.format(events[0].events[0].transaction_id.hex()))
</code></pre>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        address, _, _ = await random_account(
            client=client,
            ctx=ctx,
            contracts={
                &quot;EventDemo&quot;: &quot;&quot;&quot;
                    pub contract EventDemo {
                        pub event Add(x: Int, y: Int, sum: Int)

                        pub fun add(_ x: Int, _ y: Int) {
                            let sum = x + y
                            emit Add(x: x, y: y, sum: sum)
                        }
                    }&quot;&quot;&quot;,
            },
        )

        block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(
            address=ctx.service_account_address.bytes
        )

        tx = Tx(
            code=f&quot;&quot;&quot;
            import EventDemo from {address.hex_with_prefix()}

            transaction() {{
                prepare() {{
                    EventDemo.add(1, 6)
                }}
            }}
            &quot;&quot;&quot;,
            reference_block_id=block.id,
            payer=ctx.service_account_address,
            proposal_key=ProposalKey(
                key_address=ctx.service_account_address,
                key_id=ctx.service_account_key_id,
                key_sequence_number=proposer.keys[
                    ctx.service_account_key_id
                ].sequence_number,
            ),
        ).with_envelope_signature(
            ctx.service_account_address,
            ctx.service_account_key_id,
            ctx.service_account_signer,
        )

        result = await client.execute_transaction(tx)

        add_event = [
            e.value for e in result.events if isinstance(e.value, cadence.Event)
        ][0]

        assert add_event.fields[2].as_type(cadence.Int).value == 7

        print(&quot;event type: {}&quot;.format(result.events[0].type))
        print(&quot;event value: {}&quot;.format(result.events[0].value))
        print(&quot;event value: {}&quot;.format(result.events[0].transaction_id.hex()))

</code></pre>
<p>Example output:</p>
<pre><code class="language-bash">event type: flow.AccountCreated
event value: flow.AccountCreated(address: 0xe9dd1081676bbc90)
event value: 7762301429e09d9a981f99df24244b45ae3e9e5f084dde5f5167f1e73ce8e306

event type: A.0dbaa95c7691bc4f.EventDemo.Add
event value: A.0dbaa95c7691bc4f.EventDemo.Add(x: 1, y: 6, sum: 7)
event value: dfc8c1ea51279ddc74c16ed7644361dbe4828181d56497a4ebb18a6bbf0fd574
</code></pre>
<h3 id="get-collections">Get Collections<a class="headerlink" href="#get-collections" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#collections"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Retrieve a batch of transactions that have been included in the same block, known as <strong><em>collections</em></strong>. Collections are
used to improve consensus throughput by increasing the number of transactions per block and they act as a link between a
block and a transaction.</p>
<p>📖 <strong>Collection ID</strong> is SHA3-256 hash of the collection payload.</p>
<h4 id="examples_3">Examples<a class="headerlink" href="#examples_3" title="Permanent link">&para;</a></h4>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/collections_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        _, _, _ = await random_account(client=client, ctx=ctx)
        block = await client.get_latest_block(is_sealed=True)
        collection_id = block.collection_guarantees[0].collection_id

        collection = await client.get_collection_by_i_d(id=collection_id)
        print(&quot;ID: {}&quot;.format(collection.id.hex()))
        print(
            &quot;Transactions: [{}]&quot;.format(
                &quot;, &quot;.join(x.hex() for x in collection.transaction_ids)
            )
        )
</code></pre>
<p>Example output:</p>
<pre><code class="language-bash">ID: afc6a69bf375f0eee80635091d50a1c4bb5479c1e6a04803e422a06614c45a7c
Transactions: [d3a6b0cb53dfc72c38f365bb177a327c2bae8d4a6076a2909fc11d8f95510396]
</code></pre>
<h3 id="execute-scripts">Execute Scripts<a class="headerlink" href="#execute-scripts" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#scripts"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Scripts allow you to write arbitrary non-mutating Cadence code on the Flow blockchain and return data. You can learn
more about <a href="https://docs.onflow.org/cadence/language/">Cadence and scripts here</a>, but we are now only interested in
executing the script code and getting back the data.</p>
<p>We can execute a script using the latest state of the Flow blockchain or we can choose to execute the script at a
specific time in history defined by a block height or block ID.</p>
<p>📖 <strong>Block ID</strong> is SHA3-256 hash of the entire block payload, but you can get that value from the block response
properties.</p>
<p>📖 <strong>Block height</strong> expresses the height of the block in the chain.</p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/scripts_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code>// simple script
pub fun main(a: Int): Int {
    return a + 10
}
// complex script
pub struct User {
    pub var balance: UFix64
    pub var address: Address
    pub var name: String

    init(name: String, address: Address, balance: UFix64) {
        self.name = name
        self.address = address
        self.balance = balance
    }
}

pub fun main(name: String): User {
    return User(
        name: name,
        address: 0x1,
        balance: 10.0
    )
}
</code></pre>
<p>script can be a cadence function without any input:</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    script = Script(
        code=&quot;&quot;&quot;
                    pub fun main(): Int {
                        let a = 1
                        let b = 1
                        return a + b
                    }
                &quot;&quot;&quot;)

    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        await client.execute_script(
            script=script
            # , block_id
            # , block_height
        )
</code></pre>
<p>or it can be a more complex function which has some input:</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    script = Script(
        code=&quot;&quot;&quot;
                pub struct User {
                    pub var balance: UFix64
                    pub var address: Address
                    pub var name: String

                    init(name: String, address: Address, balance: UFix64) {
                        self.name = name
                        self.address = address
                        self.balance = balance
                    }
                }

                pub fun main(name: String): User {
                    return User(
                        name: name,
                        address: 0x1,
                        balance: 10.0
                    )
                }
            &quot;&quot;&quot;,
        arguments=[cadence.String(&quot;flow&quot;)],
    )

    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        complex_script = await client.execute_script(
            script=script
            # , block_id
            # , block_height
        )
        print(&quot;Name: {}&quot;.format(complex_script.fields[2].value))
        print(&quot;Address: {}&quot;.format(complex_script.fields[1].bytes.hex()))
        print(&quot;Balance: {}&quot;.format(complex_script.fields[0].value))

</code></pre>
<pre><code class="language-bash">Name: flow
Address: 0000000000000001
Balance: 1000000000
</code></pre>
<h2 id="mutate-flow-network">Mutate Flow Network<a class="headerlink" href="#mutate-flow-network" title="Permanent link">&para;</a></h2>
<p>Flow, like most blockchains, allows anybody to submit a transaction that mutates the shared global chain state. A
transaction is an object that holds a payload, which describes the state mutation, and one or more authorizations that
permit the transaction to mutate the state owned by specific accounts.</p>
<p>Transaction data is composed and signed with help of the SDK. The signed payload of transaction then gets submitted to
the access node API. If a transaction is invalid or the correct number of authorizing signatures are not provided, it
gets rejected.</p>
<p>Executing a transaction requires couple of steps:</p>
<ul>
<li><a href="#build-transactions">Building a transaction</a>.</li>
<li><a href="#sign-transactions">Signing a transaction</a>.</li>
<li><a href="#send-transactions">Sending a transaction</a>.</li>
</ul>
<h2 id="transactions">Transactions<a class="headerlink" href="#transactions" title="Permanent link">&para;</a></h2>
<p>A transaction is nothing more than a signed set of data that includes script code which are instructions on how to
mutate the network state and properties that define and limit it's execution. All these properties are explained bellow.</p>
<p>📖 <strong>Script</strong> field is the portion of the transaction that describes the state mutation logic. On Flow, transaction
logic is written in <a href="https://docs.onflow.org/cadence/">Cadence</a>. Here is an example transaction script:</p>
<pre><code>transaction(greeting: String) {
  execute {
    log(greeting.concat(&quot;, World!&quot;))
  }
}
</code></pre>
<p>📖 <strong>Arguments</strong>. A transaction can accept zero or more arguments that are passed into the Cadence script. The arguments
on the transaction must match the number and order declared in the Cadence script. Sample script from above accepts a
single <code>String</code> argument.</p>
<p>📖 <strong><a href="https://docs.onflow.org/concepts/transaction-signing/#proposal-key">Proposal key</a></strong> must be provided to act as a
sequence number and prevent reply and other potential attacks.</p>
<p>Each account key maintains a separate transaction sequence counter; the key that lends its sequence number to a
transaction is called the proposal key.</p>
<p>A proposal key contains three fields:</p>
<ul>
<li>Account address</li>
<li>Key index</li>
<li>Sequence number</li>
</ul>
<p>A transaction is only valid if its declared sequence number matches the current on-chain sequence number for that key.
The sequence number increments by one after the transaction is executed.</p>
<p>📖 <strong><a href="https://docs.onflow.org/concepts/transaction-signing/#signer-roles">Payer</a></strong> is the account that pays the fees for
the transaction. A transaction must specify exactly one payer. The payer is only responsible for paying the network and
gas fees; the transaction is not authorized to access resources or code stored in the payer account.</p>
<p>📖 <strong><a href="https://docs.onflow.org/concepts/transaction-signing/#signer-roles">Authorizers</a></strong> are accounts that authorize a
transaction to read and mutate their resources. A transaction can specify zero or more authorizers, depending on how
many accounts the transaction needs to access.</p>
<p>The number of authorizers on the transaction must match the number of AuthAccount parameters declared in the prepare
statement of the Cadence script.</p>
<p>Example transaction with multiple authorizers:</p>
<pre><code>transaction {
  prepare(authorizer1: AuthAccount, authorizer2: AuthAccount) { }
}
</code></pre>
<p>📖 <strong>Gas limit</strong> is the limit on the amount of computation a transaction requires, and it will abort if it exceeds its
gas limit. Cadence uses metering to measure the number of operations per transaction. You can read more about it in
the <a href="/cadence">Cadence documentation</a>.</p>
<p>The gas limit depends on the complexity of the transaction script. Until dedicated gas estimation tooling exists, it's
best to use the emulator to test complex transactions and determine a safe limit.</p>
<p>📖 <strong>Reference block</strong> specifies an expiration window (measured in blocks) during which a transaction is considered
valid by the network. A transaction will be rejected if it is submitted past its expiry block. Flow calculates
transaction expiry using the <em>reference block</em> field on a transaction. A transaction expires after <code>600</code> blocks are
committed on top of the reference block, which takes about 10 minutes at average Mainnet block rates.</p>
<h3 id="build-transactions">Build Transactions<a class="headerlink" href="#build-transactions" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#transactions"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Building a transaction involves setting the required properties explained above and producing a transaction object.</p>
<p>Here we define a simple transaction script that will be used to execute on the network and serve as a good learning
example.</p>
<pre><code>transaction(greeting: String) {

  let guest: Address

  prepare(authorizer: AuthAccount) {
    self.guest = authorizer.address
  }

  execute {
    log(greeting.concat(&quot;,&quot;).concat(guest.toString()))
  }
}
</code></pre>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">transaction = Tx(
    code=&quot;&quot;&quot;transaction(){prepare(){log(&quot;OK&quot;)}}&quot;&quot;&quot;,
    reference_block_id=latest_block.id,
    payer=account_address,
    proposal_key=ProposalKey(
        key_address=account_address,
        key_id=0,
        key_sequence_number=proposer.keys[0].sequence_number,
    )
</code></pre>
<p>After you have successfully <a href="#build-transactions">built a transaction</a> the next step in the process is to sign it.</p>
<h3 id="sign-transactions">Sign Transactions<a class="headerlink" href="#sign-transactions" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/signer/"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Flow introduces new concepts that allow for more flexibility when creating and signing transactions. Before trying the
examples below, we recommend that you read through
the <a href="https://docs.onflow.org/concepts/accounts-and-keys/">transaction signature documentation</a>.</p>
<p>After you have successfully <a href="#build-transactions">built a transaction</a> the next step in the process is to sign it. Flow
transactions have envelope and payload signatures, and you should learn about each in
the <a href="https://docs.onflow.org/concepts/accounts-and-keys/#anatomy-of-a-transaction">signature documentation</a>.</p>
<p>Quick example of building a transaction:</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, _, new_signer = await random_account(
            client=client, ctx=ctx
        )
        latest_block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(
            address=account_address.bytes
        )

        transaction = Tx(
            code=&quot;&quot;&quot;transaction(){prepare(){log(&quot;OK&quot;)}}&quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account_address,
            proposal_key=ProposalKey(
                key_address=account_address,
                key_id=0,
                key_sequence_number=proposer.keys[0].sequence_number,
            ),
        )
</code></pre>
<p>Signatures can be generated more securely using keys stored in a hardware device such as
an <a href="https://en.wikipedia.org/wiki/Hardware_security_module">HSM</a>. The <code>crypto.Signer</code> interface is intended to be
flexible enough to support a variety of signer implementations and is not limited to in-memory implementations.</p>
<p>Simple signature example:</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, _, new_signer = await random_account(
            client=client, ctx=ctx
        )
        latest_block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(
            address=account_address.bytes
        )

        transaction = Tx(
            code=&quot;&quot;&quot;transaction(){prepare(){log(&quot;OK&quot;)}}&quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account_address,
            proposal_key=ProposalKey(
                key_address=account_address,
                key_id=0,
                key_sequence_number=proposer.keys[0].sequence_number,
            ),
        ).with_envelope_signature(
            account_address,
            0,
            new_signer,
        )
</code></pre>
<p>Flow supports great flexibility when it comes to transaction signing, we can define multiple authorizers (multi-sig
transactions) and have different payer account than proposer. We will explore advanced signing scenarios bellow.</p>
<h3 id="single-party-single-signature"><a href="https://docs.onflow.org/concepts/transaction-signing/#single-party-single-signature">Single party, single signature</a><a class="headerlink" href="#single-party-single-signature" title="Permanent link">&para;</a></h3>
<ul>
<li>Proposer, payer and authorizer are the same account (<code>0x01</code>).</li>
<li>Only the envelope must be signed.</li>
<li>Proposal key must have full signing weight.</li>
</ul>
<table>
<thead>
<tr>
<th>Account</th>
<th>Key ID</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0x01</code></td>
<td>1</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    address = Address.from_hex(&quot;0x01&quot;)
    account = await client.get_account(address=address)
    # Assume you stored private key somewhere safe and restore it in private_key.
    signer = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                             sign_algo=sign_algo,
                                             private_key_hex=private_key.to_string().hex())
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()

        tx = Tx(
            code=&quot;&quot;&quot;
                    transaction {
                        prepare(signer: AuthAccount) { log(signer.address) }
                    }
                &quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account.address,
            proposal_key=ProposalKey(
                key_address=account.address,
                key_id=0,
                key_sequence_number=account.keys[
                    0
                ].sequence_number,
            ),
        ).add_authorizers([account.address])
        .with_envelope_signature(
            account.address,
            0,
            signer,
        )
</code></pre>
<h3 id="single-party-multiple-signatures"><a href="https://docs.onflow.org/concepts/transaction-signing/#single-party-multiple-signatures">Single party, multiple signatures</a><a class="headerlink" href="#single-party-multiple-signatures" title="Permanent link">&para;</a></h3>
<ul>
<li>Proposer, payer and authorizer are the same account (<code>0x01</code>).</li>
<li>Only the envelope must be signed.</li>
<li>Each key has weight 0.5, so two signatures are required.</li>
</ul>
<table>
<thead>
<tr>
<th>Account</th>
<th>Key ID</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0x01</code></td>
<td>1</td>
<td>0.5</td>
</tr>
<tr>
<td><code>0x01</code></td>
<td>2</td>
<td>0.5</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    address = Address.from_hex(&quot;0x01&quot;)
    account = await client.get_account(address=address)
    # Assume you stored private key somewhere safe and restore it in private_key.
    signer1 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key1.to_string().hex())
    signer2 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key2.to_string().hex())
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()

        tx = Tx(
            code=&quot;&quot;&quot;
                    transaction {
                        prepare(signer: AuthAccount) { log(signer.address) }
                    }
                &quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account.address,
            proposal_key=ProposalKey(
                key_address=account.address,
                key_id=0,
                key_sequence_number=account.keys[
                    0
                ].sequence_number,
            ),
        ).add_authorizers([account.address])
        .with_envelope_signature(
            account.address,
            0,
            signer1,
        ).with_envelope_signature(
            account.address,
            1,
            signer2,
        )
</code></pre>
<h3 id="multiple-parties"><a href="https://docs.onflow.org/concepts/transaction-signing/#multiple-parties">Multiple parties</a><a class="headerlink" href="#multiple-parties" title="Permanent link">&para;</a></h3>
<ul>
<li>Proposer and authorizer are the same account (<code>0x01</code>).</li>
<li>Payer is a separate account (<code>0x02</code>).</li>
<li>Account <code>0x01</code> signs the payload.</li>
<li>Account <code>0x02</code> signs the envelope.<ul>
<li>Account <code>0x02</code> must sign last since it is the payer.</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Account</th>
<th>Key ID</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0x01</code></td>
<td>1</td>
<td>1.0</td>
</tr>
<tr>
<td><code>0x02</code></td>
<td>3</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/trasnactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    address1 = Address.from_hex(&quot;0x01&quot;)
    address3 = Address.from_hex(&quot;0x02&quot;)
    account = await client.get_account(address=address)
    # Assume you stored private key somewhere safe and restore it in private_key.
    signer1 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key1.to_string().hex())
    signer3 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key3.to_string().hex())
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()

        tx = Tx(
            code=&quot;&quot;&quot;
                    transaction {
                        prepare(signer: AuthAccount) { log(signer.address) }
                    }
                &quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account3.address,
            proposal_key=ProposalKey(
                key_address=account1.address,
                key_id=0,
                key_sequence_number=account.keys[
                    0
                ].sequence_number,
            ),
        ).add_authorizers([account1.address])
        .with_payload_signature(
            account1.address,
            0,
            signer1,
        ).with_envelope_signature(
            account3.address,
            0,
            signer3,
        )
</code></pre>
<h3 id="multiple-parties-two-authorizers"><a href="https://docs.onflow.org/concepts/transaction-signing/#multiple-parties">Multiple parties, two authorizers</a><a class="headerlink" href="#multiple-parties-two-authorizers" title="Permanent link">&para;</a></h3>
<ul>
<li>Proposer and authorizer are the same account (<code>0x01</code>).</li>
<li>Payer is a separate account (<code>0x02</code>).</li>
<li>Account <code>0x01</code> signs the payload.</li>
<li>Account <code>0x02</code> signs the envelope.<ul>
<li>Account <code>0x02</code> must sign last since it is the payer.</li>
</ul>
</li>
<li>Account <code>0x02</code> is also an authorizer to show how to include two AuthAccounts into an transaction</li>
</ul>
<table>
<thead>
<tr>
<th>Account</th>
<th>Key ID</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0x01</code></td>
<td>1</td>
<td>1.0</td>
</tr>
<tr>
<td><code>0x02</code></td>
<td>3</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    address1 = Address.from_hex(&quot;0x01&quot;)
    address3 = Address.from_hex(&quot;0x02&quot;)
    account = await client.get_account(address=address)
    # Assume you stored private key somewhere safe and restore it in private_key.
    signer1 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key1.to_string().hex())
    signer3 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key3.to_string().hex())
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()

        tx = Tx(
            code=&quot;&quot;&quot;
                    transaction {
                        prepare(signer: AuthAccount) { log(signer.address) }
                    }
                &quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account3.address,
            proposal_key=ProposalKey(
                key_address=account1.address,
                key_id=0,
                key_sequence_number=account.keys[
                    0
                ].sequence_number,
            ),
        ).add_authorizers([account1.address, account3.address])
        .with_payload_signature(
            account1.address,
            0,
            signer1,
        ).with_envelope_signature(
            account3.address,
            0,
            signer3,
        )
</code></pre>
<h3 id="multiple-parties-multiple-signatures"><a href="https://docs.onflow.org/concepts/transaction-signing/#multiple-parties">Multiple parties, multiple signatures</a><a class="headerlink" href="#multiple-parties-multiple-signatures" title="Permanent link">&para;</a></h3>
<ul>
<li>Proposer and authorizer are the same account (<code>0x01</code>).</li>
<li>Payer is a separate account (<code>0x02</code>).</li>
<li>Account <code>0x01</code> signs the payload.</li>
<li>Account <code>0x02</code> signs the envelope.<ul>
<li>Account <code>0x02</code> must sign last since it is the payer.</li>
</ul>
</li>
<li>Both accounts must sign twice (once with each of their keys).</li>
</ul>
<table>
<thead>
<tr>
<th>Account</th>
<th>Key ID</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0x01</code></td>
<td>1</td>
<td>0.5</td>
</tr>
<tr>
<td><code>0x01</code></td>
<td>2</td>
<td>0.5</td>
</tr>
<tr>
<td><code>0x02</code></td>
<td>3</td>
<td>0.5</td>
</tr>
<tr>
<td><code>0x02</code></td>
<td>4</td>
<td>0.5</td>
</tr>
</tbody>
</table>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    address1 = Address.from_hex(&quot;0x01&quot;)
    address3 = Address.from_hex(&quot;0x02&quot;)
    account = await client.get_account(address=address)
    # Assume you stored private key somewhere safe and restore it in private_key.
    signer1 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key1.to_string().hex())
    signer2 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key2.to_string().hex())
    signer3 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key3.to_string().hex())
    signer4 = in_memory_signer.InMemorySigner(hash_algo=hash_algo,
                                              sign_algo=sign_algo,
                                              private_key_hex=private_key4.to_string().hex())
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()

        tx = Tx(
            code=&quot;&quot;&quot;
                    transaction {
                        prepare(signer: AuthAccount) { log(signer.address) }
                    }
                &quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account2.address,
            proposal_key=ProposalKey(
                key_address=account1.address,
                key_id=0,
                key_sequence_number=account.keys[
                    0
                ].sequence_number,
            ),
        ).add_authorizers([account1.address])
        .with_payload_signature(
            account1.address,
            0,
            signer1,
        ).with_payload_signature(
            account1.address,
            1,
            signer2,
        ).with_envelope_signature(
            account3.address,
            0,
            signer3,
        ).with_envelope_signature(
            account3.address,
            1,
            signer4,
        )
</code></pre>
<h3 id="signing-user-messages">Signing user messages<a class="headerlink" href="#signing-user-messages" title="Permanent link">&para;</a></h3>
<p>Signing and verifying user messages can be done by using <code>Signer.sign_user_message</code>. Verifying that an account (via its
owners keys) has been signed can be done with <code>utils.verify_user_signature</code></p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/user_message_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<p>Short sample:</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        # create account
        account_address, _, account_signer = await random_account(
            client=client,
            ctx=ctx,
        )

        # the message to sign. Could include some extra information, like the reference block id or the address.
        message = b&quot;Hello World!&quot;

        # sign message
        signature = account_signer.sign_user_message(message)
        c_signature = utils.CompositeSignature(
            account_address.hex(), 0, signature.hex()
        )

        # verify the signature is valid
        signature_is_valid = await utils.verify_user_signature(
            message=message,
            client=client,
            composite_signatures=[c_signature],
        )

        assert signature_is_valid
</code></pre>
<h3 id="send-transactions">Send Transactions<a class="headerlink" href="#send-transactions" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/client/#transactions"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>After a transaction has been <a href="#build-transactions">built</a> and <a href="#sign-transactions">signed</a>, it can be sent to the Flow
blockchain where it will be executed. If sending was successful you can
then <a href="#get-transactions">retrieve the transaction result</a>.</p>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/transactions_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, _, new_signer = await random_account(
            client=client, ctx=ctx
        )
        latest_block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(
            address=account_address.bytes
        )

        transaction = Tx(
            code=&quot;&quot;&quot;transaction(){prepare(){log(&quot;OK&quot;)}}&quot;&quot;&quot;,
            reference_block_id=latest_block.id,
            payer=account_address,
            proposal_key=ProposalKey(
                key_address=account_address,
                key_id=0,
                key_sequence_number=proposer.keys[0].sequence_number,
            ),
        ).with_envelope_signature(
            account_address,
            0,
            new_signer,
        )

        response = await client.send_transaction(transaction=transaction.to_signed_grpc())
</code></pre>
<h3 id="create-accounts">Create Accounts<a class="headerlink" href="#create-accounts" title="Permanent link">&para;</a></h3>
<p><strong><a href="https://github.com/janezpodhostnik/flow-py-sdk/blob/master/examples/account_examples.py"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg" width="130"/></a></strong></p>
<p>On Flow, account creation happens inside a transaction. Because the network allows for a many-to-many relationship
between public keys and accounts, it's not possible to derive a new account address from a public key offline.</p>
<p>The Flow VM uses a deterministic address generation algorithm to assigen account addresses on chain. You can find more
details about address generation in
the <a href="https://docs.onflow.org/concepts/accounts-and-keys/">accounts &amp; keys documentation</a>.</p>
<h4 id="public-key">Public Key<a class="headerlink" href="#public-key" title="Permanent link">&para;</a></h4>
<p>Flow uses ECDSA key pairs to control access to user accounts. Each key pair can be used in combination with the SHA2-256
or SHA3-256 hashing algorithms.</p>
<p>⚠️ You'll need to authorize at least one public key to control your new account.</p>
<p>Flow represents ECDSA public keys in raw form without additional metadata. Each key is a single byte slice containing a
concatenation of its X and Y components in big-endian byte form.</p>
<p>A Flow account can contain zero (not possible to control) or more public keys, referred to as account keys. Read more
about <a href="https://docs.onflow.org/concepts/accounts-and-keys/#accounts">accounts in the documentation</a>.</p>
<p>An account key contains the following data:</p>
<ul>
<li>Raw public key (described above)</li>
<li>Signature algorithm</li>
<li>Hash algorithm</li>
<li>Weight (integer between 0-1000)</li>
</ul>
<p>Account creation happens inside a transaction, which means that somebody must pay to submit that transaction to the
network. We'll call this person the account creator. Make sure you have
read <a href="#send-transactions">sending a transaction section</a> first.</p>
<pre><code class="language-python">async def run(self, ctx: Config):
    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        latest_block = await client.get_latest_block()
        proposer = await client.get_account_at_latest_block(address=ctx.service_account_address.bytes)

        tx = (
            create_account_template(
                keys=[account_key],
                reference_block_id=latest_block.id,
                payer=ctx.service_account_address,
                proposal_key=ProposalKey(
                    key_address=ctx.service_account_address,
                    key_id=ctx.service_account_key_id,
                    key_sequence_number=proposer.keys[
                        ctx.service_account_key_id
                    ].sequence_number,
                ),
            )
                .add_authorizers(ctx.service_account_address)
                .with_envelope_signature(
                ctx.service_account_address, 0, ctx.service_account_signer
            )
        )
        result = await client.execute_transaction(tx)

        print(&quot;new address event:\n&quot;)
        print(result.__dict__)
        print(&quot;\nCreating account : successfully done...&quot;)
</code></pre>
<p>After the account creation transaction has been submitted you can retrieve the new account address
by <a href="#get-transactions">getting the transaction result</a>.</p>
<p>The new account address will be emitted in a system-level <code>flow.AccountCreated</code> event.</p>
<p>await client.get_events_for_block_i_ds(
type="flow.AccountCreated", block_ids=[latest_block.id]
)</p>
<h3 id="contracts">Contracts<a class="headerlink" href="#contracts" title="Permanent link">&para;</a></h3>
<p>Flow smart contracts are Codance scripts that run on Flow blockchain and can returns values. a contract can be add,
update or remove from an account.</p>
<p>A contracts contains the following fields:</p>
<ul>
<li><code>Name</code> - Name of contract.</li>
<li><code>source</code> - Script of contract.</li>
</ul>
<h2 id="adding-a-contract-to-an-account">Adding a contract to an account<a class="headerlink" href="#adding-a-contract-to-an-account" title="Permanent link">&para;</a></h2>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    # A test Contract define for this example, you can modify it by your self
    contract = {
        &quot;Name&quot;: &quot;TestOne&quot;,
        &quot;source&quot;: '''pub contract TestOne {
                            pub fun add(a: Int, b: Int): Int {
                                return a + b
                            }
                            }'''
    }
    contract_source_hex = bytes(contract[&quot;source&quot;], &quot;UTF-8&quot;).hex()

    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, account_key, new_signer = await random_account(client=client, ctx=ctx)
    latest_block = await client.get_latest_block()
    cadenceName = cadence.String(contract[&quot;Name&quot;])
    cadenceCode = cadence.String(contract_source_hex)
    tx = (
        Tx(
            code=addAccountContractTemplate,
            reference_block_id=latest_block.id,
            payer=account_address,
        ).add_arguments(cadenceName)
            .add_arguments(cadenceCode)
            .add_authorizers([account_address])
            .with_envelope_signature(
            account_address,
            0,
            new_signer,
        )
    )

    result = await client.execute_transaction(tx)

</code></pre>
<h2 id="updating-a-contract-of-an-account">Updating a contract of an account<a class="headerlink" href="#updating-a-contract-of-an-account" title="Permanent link">&para;</a></h2>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    # A test Contract define for this example, you can modify it by your self
    contract = {
        &quot;Name&quot;: &quot;TestOne&quot;,
        &quot;source&quot;: '''pub contract TestOne {
                            pub fun add(a: Int, b: Int): Int {
                                return a + b
                            }
                            }'''
    }
    contract_source_hex = bytes(contract[&quot;source&quot;], &quot;UTF-8&quot;).hex()

    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, account_key, new_signer = await random_account(client=client, ctx=ctx)
        latest_block = await client.get_latest_block()
        cadenceName = cadence.String(contract[&quot;Name&quot;])
        cadenceCode = cadence.String(contract_source_hex)
        tx = (
            Tx(
                code=addAccountContractTemplate,
                reference_block_id=latest_block.id,
                payer=account_address,
            ).add_arguments(cadenceName)
                .add_arguments(cadenceCode)
                .add_authorizers([account_address])
                .with_envelope_signature(
                account_address,
                0,
                new_signer,
            )
        )

        result = await client.execute_transaction(tx)

        latest_block = await client.get_latest_block()
        # Updated Contract
        contract = {
            &quot;Name&quot;: &quot;TestOne&quot;,
            &quot;source&quot;: '''pub contract TestOne {
                            pub fun add(a: Int, b: Int): Int {
                                return a * b
                            }
                            }'''
        }
        contract_source_hex = bytes(contract[&quot;source&quot;], &quot;UTF-8&quot;).hex()
        # Update account contract with a transaction
        tx = (
            Tx(
                code=updateAccountContractTemplate,
                reference_block_id=latest_block.id,
                payer=account_address,
            ).add_arguments(contract[&quot;Name&quot;])
                .add_arguments(contract_source_hex)
                .add_authorizers([account_address])
                .with_envelope_signature(
                account_address,
                0,
                new_signer,
            )
        )

        result = await client.execute_transaction(tx)

</code></pre>
<h2 id="removing-a-contract-from-an-account">Removing a contract from an account<a class="headerlink" href="#removing-a-contract-from-an-account" title="Permanent link">&para;</a></h2>
<pre><code class="language-python">async def run(self, ctx: Config):
    # First Step : Create a client to connect to the flow blockchain
    # flow_client function creates a client using the host and port
    # A test Contract define for this example, you can modify it by your self
    contract = {
        &quot;Name&quot;: &quot;TestOne&quot;,
        &quot;source&quot;: '''pub contract TestOne {
                            pub fun add(a: Int, b: Int): Int {
                                return a + b
                            }
                            }'''
    }
    contract_source_hex = bytes(contract[&quot;source&quot;], &quot;UTF-8&quot;).hex()

    async with flow_client(
            host=ctx.access_node_host, port=ctx.access_node_port
    ) as client:
        account_address, account_key, new_signer = await random_account(client=client, ctx=ctx)
        latest_block = await client.get_latest_block()
        cadenceName = cadence.String(contract[&quot;Name&quot;])
        cadenceCode = cadence.String(contract_source_hex)
        tx = (
            Tx(
                code=addAccountContractTemplate,
                reference_block_id=latest_block.id,
                payer=account_address,
            ).add_arguments(cadenceName)
                .add_arguments(cadenceCode)
                .add_authorizers([account_address])
                .with_envelope_signature(
                account_address,
                0,
                new_signer,
            )
        )

        result = await client.execute_transaction(tx)

        # Delete the added contract from the account

        latest_block = await client.get_latest_block()

        tx = (
            Tx(
                code=removeAccountContractTemplate,
                reference_block_id=latest_block.id,
                payer=account_address,
            ).add_arguments(cadenceName)
                .add_authorizers([account_address])
                .with_envelope_signature(
                account_address,
                0,
                new_signer,
            )
        )

        result = await client.execute_transaction(tx)

</code></pre>
<h3 id="generate-keys">Generate Keys<a class="headerlink" href="#generate-keys" title="Permanent link">&para;</a></h3>
<p><a href="../api_docs/keys/#generate-new-keys"><img src="https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg" width="130"/></a></p>
<p>Flow uses <a href="https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm">ECDSA</a> signatures to control access
to user accounts. Each key pair can be used in combination with the <code>SHA2-256</code> or <code>SHA3-256</code> hashing algorithms.</p>
<p>Here's how to generate an ECDSA private key for the P-256 (secp256r1) curve.</p>
<pre><code class="language-python">private_key = ecdsa.SigningKey.generate(curve=&quot;ECDSA_secp256k1&quot;)
public_key = sk.verifying_key.to_string()
</code></pre>
<p>The example above uses an ECDSA key pair on the P-256 (secp256r1) elliptic curve. Flow also supports the secp256k1 curve
used by Bitcoin and Ethereum. Read more
about <a href="https://docs.onflow.org/concepts/accounts-and-keys/#supported-signature--hash-algorithms">supported algorithms here</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        <a href="../examples/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Running Examples
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>